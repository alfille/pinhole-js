<html>
    <script src="pinhole.js"></script>
	<script>
		function on() {
			document.getElementById("overlay").style.display = "block";
		}

		function off() {
			document.getElementById("overlay").style.display = "none";
		}
		</script>
    <body>
		<div>
		  <h2>Overlay</h2>
		  <p>Add an overlay effect to the page content (100% width and height with a black background color with 50% opacity).</p>
		  <button onclick="r.Y(+1)"><B>&#8592;</B></button>
		  <button onclick="r.X(-1)"><B>&#8595;</B></button>
		  <button onclick="r.Z(+1)">&#8630;</button>
		  <button onclick="r.Stop()"><B>X</B></button>
		  <button onclick="r.Z(-1)">&#8631;</button>
		  <button onclick="r.X(+1)"><B>&#8593;</B></button>
		  <button onclick="r.Y(-1)"><B>&#8594;</B></button>
		</div>
        <canvas width="1000" height="1000" style="width:500px;height:500px" id="cube"></canvas>
		<div id="overlay" onclick="off()"></div>
    <script>
		var p = new Pinhole();
		var p2 = new Pinhole();
		var r = new Rotator(p);
        // cube and circles
        (function(){
            var rx = 0;
            var ry = 0;
            var cr1z = 0;
            var cr2y = 0;
            var idx = 0;
			// draw the cube
			p.drawCube(-0.3, -0.3, -0.3, 0.3, 0.3, 0.3)
			// rotate a little on the X and Y axis.
			p.rotate(Math.PI/3, Math.PI/6, 0)
			// draw circle 1
			p.begin()
			p.drawCircle(0, 0, 0, 0.25)
			p.rotate(0, Math.PI/2, cr1z)
			p.colorize("red")
			p.end()
			// draw circle 2
			p.begin()
			p.drawCircle(0, 0, 0, 0.25)
			p.rotate(0, cr2y, Math.PI/2)
			p.colorize("red")
			p.end()
			r.Run(document.getElementById("cube"));
        }())
    </script>
    </body>
</html>
